
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>升级CDH到5.7.0 | wzktravel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="最近对CDH进行升级，从5.4.8升级到5.7.0，主要想升级spark和hbase。">
<meta property="og:type" content="article">
<meta property="og:title" content="升级CDH到5.7.0">
<meta property="og:url" content="http://wzktravel.github.io/2016/05/24/upgrade-cdh-to-5-7-0/index.html">
<meta property="og:site_name" content="wzktravel">
<meta property="og:description" content="最近对CDH进行升级，从5.4.8升级到5.7.0，主要想升级spark和hbase。">
<meta property="og:updated_time" content="2016-08-24T07:25:13.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="升级CDH到5.7.0">
<meta name="twitter:description" content="最近对CDH进行升级，从5.4.8升级到5.7.0，主要想升级spark和hbase。">
  
    <link rel="alternative" href="/atom.xml" title="wzktravel" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  <!--<link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">-->
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  <!-- -->
  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>

<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">wzktravel</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="wzktravel.github.io">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main"><article id="post-upgrade-cdh-to-5-7-0" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/05/24/upgrade-cdh-to-5-7-0/" class="article-date">
  <time datetime="2016-05-24T10:08:23.000Z" itemprop="datePublished">2016-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      升级CDH到5.7.0
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&#x6700;&#x8FD1;&#x5BF9;CDH&#x8FDB;&#x884C;&#x5347;&#x7EA7;&#xFF0C;&#x4ECE;5.4.8&#x5347;&#x7EA7;&#x5230;5.7.0&#xFF0C;&#x4E3B;&#x8981;&#x60F3;&#x5347;&#x7EA7;spark&#x548C;hbase&#x3002;<br><a id="more"></a></p>
<h2 id="whats-new-in-cdh-57x"><a href="#What&#x2019;s-New-In-CDH-5-7-x" class="headerlink" title="What&#x2019;s New In CDH 5.7.x"></a>What&#x2019;s New In CDH 5.7.x</h2><p>&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x53C2;&#x8003;<a href="http://www.cloudera.com/documentation/enterprise/release-notes/topics/cdh_rn_new_in_cdh_57.html" target="_blank" rel="external">What&#x2019;s New In CDH 5.7.x</a></p>
<ol>
<li>&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x652F;&#x6301; RHEL/CentOS 6.6, 6.7, 7.1, 7.2 </li>
<li>JDK&#x7248;&#x672C;&#x5FC5;&#x987B;1.7&#x6216;&#x4EE5;&#x4E0A;&#x3002;</li>
<li>Spark&#x5347;&#x7EA7;&#x5230;1.6.0&#xFF0C;&#x652F;&#x6301;hive on spark</li>
<li>&#x5404;&#x670D;&#x52A1;&#x7248;&#x672C;:</li>
</ol>
<table>
<thead>
<tr>
<th>Component</th>
<th>Package Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Apache Hadoop</td>
<td>hadoop-2.6.0+cdh5.7.0+1280</td>
</tr>
<tr>
<td>HBase</td>
<td>hbase-1.2.0+cdh5.7.0+129</td>
</tr>
<tr>
<td>Apache Hive</td>
<td>hive-1.1.0+cdh5.7.0+522</td>
</tr>
<tr>
<td>Hue</td>
<td>hue-3.9.0+cdh5.7.0+1759</td>
</tr>
<tr>
<td>Apache Impala</td>
<td>impala-2.5.0+cdh5.7.0+0</td>
</tr>
<tr>
<td>Apache Oozie</td>
<td>oozie-4.1.0+cdh5.7.0+267</td>
</tr>
<tr>
<td>Apache Sentry</td>
<td>sentry-1.5.1+cdh5.7.0+184</td>
</tr>
<tr>
<td>Apache Spark</td>
<td>spark-1.6.0+cdh5.7.0+180</td>
</tr>
<tr>
<td>Apache Sqoop</td>
<td>sqoop-1.4.6+cdh5.7.0+56</td>
</tr>
<tr>
<td>Apache Sqoop2</td>
<td>sqoop2-1.99.5+cdh5.7.0+38</td>
</tr>
<tr>
<td>Zookeeper</td>
<td>zookeeper-3.4.5+cdh5.7.0+94</td>
</tr>
</tbody>
</table>
<p>&#x66F4;&#x591A;&#x670D;&#x52A1;&#x7684;&#x7248;&#x672C;&#x548C;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x53C2;&#x8003;: <a href="http://www.cloudera.com/documentation/enterprise/release-notes/topics/cdh_vd_cdh_package_tarball_57.html" target="_blank" rel="external">CDH 5.7.x Packaging and Tarball Information</a></p>
<h2 id="cdh&#x5347;&#x7EA7;"><a href="#CDH&#x5347;&#x7EA7;" class="headerlink" title="CDH&#x5347;&#x7EA7;"></a>CDH&#x5347;&#x7EA7;</h2><h3 id="&#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;"><a href="#&#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;" class="headerlink" title="&#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;"></a>&#x6570;&#x636E;&#x5E93;&#x5907;&#x4EFD;</h3><h4 id="cloudera-manager&#x6570;&#x636E;&#x5907;&#x4EFD;"><a href="#cloudera-manager&#x6570;&#x636E;&#x5907;&#x4EFD;" class="headerlink" title="cloudera manager&#x6570;&#x636E;&#x5907;&#x4EFD;"></a>cloudera manager&#x6570;&#x636E;&#x5907;&#x4EFD;</h4><p>cloudera manager&#x4F7F;&#x7528;postgres&#x6765;&#x5B58;&#x50A8;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x5728;/etc/cloudera-scm-server/db.properties&#x4E2D;&#x627E;&#x5230;&#x3002;</p>
<p>&#x5907;&#x4EFD;&#x547D;&#x4EE4;:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pg_dump -p 7432 -U scm &gt; /data/backup/scm_server_db_backup.$(date +%Y%m%d)</div></pre></td></tr></table></figure>
<h4 id="&#x670D;&#x52A1;&#x6570;&#x636E;&#x5907;&#x4EFD;"><a href="#&#x670D;&#x52A1;&#x6570;&#x636E;&#x5907;&#x4EFD;" class="headerlink" title="&#x670D;&#x52A1;&#x6570;&#x636E;&#x5907;&#x4EFD;"></a>&#x670D;&#x52A1;&#x6570;&#x636E;&#x5907;&#x4EFD;</h4><p>&#x4F7F;&#x7528;&#x7684;&#x662F;mysql&#xFF0C;&#x6D89;&#x53CA;&#x7684;&#x5E93;&#x6709;<code>hive</code>, <code>hue</code>, <code>sentry</code>, <code>oozie</code>, <code>sqoop</code></p>
<ul>
<li><code>mysqldump -h vlnx107010 -uroot -p hive &gt; /data/backup/hive-backup.$(date +%Y%m%d).sql</code></li>
<li><code>mysqldump -h vlnx107010 -uroot -p hue &gt; /data/backup/hue-backup.$(date +%Y%m%d).sql</code></li>
<li><code>mysqldump -h vlnx107010 -uroot -p sentry &gt; /data/backup/sentry-backup.$(date +%Y%m%d).sql</code></li>
<li><code>mysqldump -h vlnx107010 -uroot -p oozie_oozie_server &gt; /data/backup/oozie-backup.$(date +%Y%m%d).sql</code></li>
<li><code>mysqldump -h vlnx107010 -uroot -p sqoop &gt; /data/backup/sqoop-backup.$(date +%Y%m%d).sql</code></li>
</ul>
<h3 id="&#x66F4;&#x65B0;cloudera-manager-server"><a href="#&#x66F4;&#x65B0;cloudera-manager-server" class="headerlink" title="&#x66F4;&#x65B0;cloudera manager server"></a>&#x66F4;&#x65B0;cloudera manager server</h3><p>&#x4F7F;&#x7528;packages&#x65B9;&#x5F0F;&#x66F4;&#x65B0;&#x3002;</p>
<h4 id="&#x505C;&#x6B62;cloudera-manager-server-database-agent"><a href="#&#x505C;&#x6B62;cloudera-manager-server-database-agent" class="headerlink" title="&#x505C;&#x6B62;cloudera manager server, database, agent"></a>&#x505C;&#x6B62;cloudera manager server, database, agent</h4><ol>
<li>&#x505C;&#x6B62;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;</li>
<li><p>&#x505C;&#x6B62;cloudera-manager&#x670D;&#x52A1;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service cloudera-scm-server stop</div></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>&#x4F7F;&#x7528;&#x5185;&#x5D4C;&#x7684;PostgreSQL&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BDD;&#xFF0C;&#x505C;&#x6B62;&#x6B64;&#x670D;&#x52A1;</p>
 <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service cloudera-scm-server-db stop</div></pre></td></tr></table></figure>
<blockquote>
<p>==<strong>Important:</strong>== If you are not running the embedded database service and you attempt to stop it, you receive a message indicating that the service cannot be found. If instead you get a message that the shutdown failed, the embedded database is still running, probably because services are connected to the Hive metastore. If the database shutdown fails due to connected services, issue the following command:<br> RHEL-compatible 7 and higher:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo service cloudera-scm-server-db next_stop_fast</div><div class="line">$ sudo service cloudera-scm-server-db stop</div></pre></td></tr></table></figure>
</blockquote>
<p> All other Linux distributions:</p>
<blockquote>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service cloudera-scm-server-db fast_stop</div></pre></td></tr></table></figure>
</blockquote>
</li>
</ol>
<ol>
<li><p>&#x505C;&#x6B62;cloudera-agent&#x670D;&#x52A1;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service cloudera-scm-agent stop</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="&#x8BBE;&#x7F6E;repo"><a href="#&#x8BBE;&#x7F6E;repo" class="headerlink" title="&#x8BBE;&#x7F6E;repo"></a>&#x8BBE;&#x7F6E;repo</h4><h5 id="&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#x4F7F;&#x7528;cloudera&#x6E90;"><a href="#&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#xFF0C;&#x4F7F;&#x7528;cloudera&#x6E90;" class="headerlink" title="&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#xFF0C;&#x4F7F;&#x7528;cloudera&#x6E90;"></a>&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#xFF0C;&#x4F7F;&#x7528;cloudera&#x6E90;</h5><p>&#x5982;&#x679C;&#x7F51;&#x7EDC;&#x901F;&#x5EA6;&#x6BD4;&#x8F83;&#x5FEB;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x65B0;&#x5EFA;<code>cloudera-manager.repo</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[cloudera-manager]</div><div class="line"># Packages for Cloudera Manager, Version 5, on RHEL or CentOS 6 x86_64</div><div class="line">name = Cloudera Manager</div><div class="line">baseurl = https://archive.cloudera.com/cm5/redhat/6/x86_64/cm/5/</div><div class="line">gpgkey = https://archive.cloudera.com/cm5/redhat/6/x86_64/cm/RPM-GPG-KEY-cloudera </div><div class="line">gpgcheck = 1</div></pre></td></tr></table></figure>
<h5 id="&#x642D;&#x5EFA;&#x672C;&#x5730;&#x6E90;"><a href="#&#x642D;&#x5EFA;&#x672C;&#x5730;&#x6E90;" class="headerlink" title="&#x642D;&#x5EFA;&#x672C;&#x5730;&#x6E90;"></a>&#x642D;&#x5EFA;&#x672C;&#x5730;&#x6E90;</h5><p>&#x5982;&#x679C;&#x8BBF;&#x95EE;cloudera&#x6E90;&#x4E0D;&#x592A;&#x7A33;&#x5B9A;&#xFF0C;&#x53EF;&#x4EE5;&#x642D;&#x5EFA;&#x672C;&#x5730;&#x7684;repo&#x6E90;&#x3002;</p>
<ol>
<li><p>&#x5B89;&#x88C5;vsftp</p>
<p>&#x4F7F;&#x7528;vsftp&#x4F5C;&#x4E3A;ftp&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5728;<code>/etc/vsftpd/</code>&#x4E0B;&#xFF0C;ftp&#x8DEF;&#x5F84;&#x5728;<code>/var/ftp/</code>&#x4E0B;&#x3002;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ yum install vsftpd</div><div class="line">$ service vsftpd start</div></pre></td></tr></table></figure>
</li>
<li><p>&#x4E0B;&#x8F7D;rpm&#x5305;&#x548C;repodata</p>
<p>&#x65B0;&#x5EFA;&#x76EE;&#x5F55;<code>/var/ftp/pub/cloudera-repo</code>&#x4F5C;&#x4E3A;repo&#x6E90;&#x76EE;&#x5F55;&#xFF0C;&#x4ECE;<code>https://archive.cloudera.com/cm5/redhat/6/x86_64/cm/5/</code>&#x6309;&#x4E0B;&#x8F7D;&#x6240;&#x9700;&#x7684;rpm&#x5305;&#x548C;repodata&#x76EE;&#x5F55;&#xFF0C;&#x5B8C;&#x6210;&#x540E;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">$ tree /var/ftp/pub/cloudera-repo/</div><div class="line">/var/ftp/pub/cloudera-repo/</div><div class="line">&#x251C;&#x2500;&#x2500; repodata</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; filelists.xml.gz</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; filelists.xml.gz.asc</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; other.xml.gz</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; other.xml.gz.asc</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; primary.xml.gz</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; primary.xml.gz.asc</div><div class="line">&#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; repomd.xml</div><div class="line">&#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; repomd.xml.asc</div><div class="line">&#x2514;&#x2500;&#x2500; RPMS</div><div class="line">    &#x2514;&#x2500;&#x2500; x86_64</div><div class="line">        &#x251C;&#x2500;&#x2500; cloudera-manager-agent-5.7.0-1.cm570.p0.76.el6.x86_64.rpm</div><div class="line">        &#x251C;&#x2500;&#x2500; cloudera-manager-daemons-5.7.0-1.cm570.p0.76.el6.x86_64.rpm</div><div class="line">        &#x251C;&#x2500;&#x2500; cloudera-manager-server-5.7.0-1.cm570.p0.76.el6.x86_64.rpm</div><div class="line">        &#x2514;&#x2500;&#x2500; cloudera-manager-server-db-2-5.7.0-1.cm570.p0.76.el6.x86_64.rpm</div></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>&#x65B0;&#x5EFA;&#x672C;&#x5730;repo<code>cloudera-manager.repo</code>&#x5982;&#x4E0B;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[cloudera-manager]</div><div class="line">name = Cloudera Manager, Version 5.7.0</div><div class="line">baseurl = ftp://${local-repo-ip}/pub/cloudera-repo</div><div class="line">gpgcheck = 0</div></pre></td></tr></table></figure>
<ul>
<li>&#x5982;&#x679C;&#x624B;&#x52A8;&#x5347;&#x7EA7;&#x5404;&#x673A;&#x5668;&#x7684;cloudera-manager-agent&#xFF0C;&#x9700;&#x8981;&#x5C06;cloudera-manager.repo&#x66F4;&#x65B0;&#x5230;&#x6240;&#x6709;&#x8282;&#x70B9;&#x4E0A;</li>
<li>&#x5982;&#x679C;&#x4F7F;&#x7528;cloudera&#x5347;&#x7EA7;&#x5404;&#x673A;&#x5668;&#x7684;cloudera-manager-agent&#xFF0C;&#x5728;&#x5347;&#x7EA7;&#x65F6;&#x6CE8;&#x610F;&#x9009;&#x62E9;<strong><code>Custom Repository</code></strong>&#xFF0C;&#x586B;&#x5199;repository&#x5730;&#x5740;&#x4E3A;<code>ftp://${local-repo-ip}/pub/cloudera-repo</code>&#x3002;</li>
</ul>
</li>
</ol>
<h4 id="&#x8FDB;&#x884C;&#x5347;&#x7EA7;"><a href="#&#x8FDB;&#x884C;&#x5347;&#x7EA7;" class="headerlink" title="&#x8FDB;&#x884C;&#x5347;&#x7EA7;"></a>&#x8FDB;&#x884C;&#x5347;&#x7EA7;</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo yum clean all</div><div class="line">$ sudo yum upgrade cloudera-manager-server cloudera-manager-daemons cloudera-manager-server-db-2 cloudera-manager-agent</div></pre></td></tr></table></figure>
<h4 id="&#x91CD;&#x542F;cloudera-manager&#x670D;&#x52A1;"><a href="#&#x91CD;&#x542F;cloudera-manager&#x670D;&#x52A1;" class="headerlink" title="&#x91CD;&#x542F;cloudera manager&#x670D;&#x52A1;"></a>&#x91CD;&#x542F;cloudera manager&#x670D;&#x52A1;</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo service cloudera-scm-server-db start</div><div class="line">$ sudo service cloudera-scm-server start</div></pre></td></tr></table></figure>
<h3 id="&#x66F4;&#x65B0;cloudera-manager-agent"><a href="#&#x66F4;&#x65B0;cloudera-manager-agent" class="headerlink" title="&#x66F4;&#x65B0;cloudera manager agent"></a>&#x66F4;&#x65B0;cloudera manager agent</h3><blockquote>
<p>==<strong>Important:</strong>== All hosts in the cluster must have access to the Internet if you plan to use archive.cloudera.com as the source for installation files. If you do not have Internet access, create a custom repository.</p>
</blockquote>
<p>&#x4EE5;&#x4E0B;&#x4E24;&#x79CD;&#x5347;&#x7EA7;&#x4EFB;&#x9009;&#x4E00;&#x79CD;&#x3002;</p>
<h4 id="&#x4F7F;&#x7528;cloudera&#x8FDB;&#x884C;&#x5347;&#x7EA7;"><a href="#&#x4F7F;&#x7528;cloudera&#x8FDB;&#x884C;&#x5347;&#x7EA7;" class="headerlink" title="&#x4F7F;&#x7528;cloudera&#x8FDB;&#x884C;&#x5347;&#x7EA7;"></a>&#x4F7F;&#x7528;cloudera&#x8FDB;&#x884C;&#x5347;&#x7EA7;</h4><p>&#x8FDB;&#x5165;cloudera manager&#x540E;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x5F39;&#x51FA;&#x5347;&#x7EA7;&#x9875;&#x9762;&#xFF0C;&#x9009;&#x62E9;<code>Yes, I would like to upgrade the Cloudera Manager Agent packages now</code>&#xFF0C;&#x7136;&#x540E;&#x4E00;&#x6B65;&#x6B65;&#x8FDB;&#x884C;&#x3002;</p>
<p>&#x5728;&#x9009;&#x62E9;Cloudera Manager Agent Release&#x65F6;&#xFF0C;&#x6709;&#x4E24;&#x79CD;&#x9009;&#x62E9;</p>
<ol>
<li>&#x5982;&#x679C;&#x8FDB;&#x884C;&#x5728;&#x7EBF;&#x5347;&#x7EA7;&#xFF0C;&#x9009;&#x62E9;<code>Matched Release for this Cloudera Manager Server</code>&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x76F4;&#x63A5;&#x4ECE;<code>https://archive.cloudera.com/cm5/redhat/6/x86_64/cm/5/</code>&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x3002;</li>
<li>&#x5982;&#x679C;&#x81EA;&#x5DF1;&#x4E0B;&#x8F7D;&#x4E86;rpm&#x5305;&#xFF0C;&#x5E76;&#x5EFA;&#x7ACB;&#x4E86;&#x672C;&#x5730;repo&#x6E90;&#xFF0C;&#x9009;&#x62E9;<code>Custom Repository</code>&#xFF0C;&#x7136;&#x540E;&#x586B;&#x5199;&#x672C;&#x5730;repo&#x6E90;&#x5730;&#x5740;&#x3002;</li>
</ol>
<p>&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x90FD;&#x4F1A;&#x5728;&#x6BCF;&#x53F0;&#x673A;&#x5668;<code>/etc/yum.repos.d/</code>&#x76EE;&#x5F55;&#x4E0B;&#x751F;&#x6210;<code>cloudera-manager.repo</code>&#xFF0C;&#x4E0D;&#x8FC7;&#x5176;&#x4E2D;&#x7684;<code>baseurl</code>&#x53C2;&#x6570;&#x4E0D;&#x540C;&#x3002;</p>
<h4 id="&#x624B;&#x52A8;&#x8FDB;&#x884C;&#x66F4;&#x65B0;"><a href="#&#x624B;&#x52A8;&#x8FDB;&#x884C;&#x66F4;&#x65B0;" class="headerlink" title="&#x624B;&#x52A8;&#x8FDB;&#x884C;&#x66F4;&#x65B0;"></a>&#x624B;&#x52A8;&#x8FDB;&#x884C;&#x66F4;&#x65B0;</h4><ol>
<li>&#x5728;&#x6BCF;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x6DFB;&#x52A0;<code>cloudera-manager.repo</code>&#x5E76;&#x6E05;&#x7406;yum cache&#xFF0C;<code>yum clean all</code>&#x3002;</li>
<li>&#x505C;&#x6B62;cloudera-scm-agent&#x670D;&#x52A1;: <code>service cloudera-scm-agent stop</code>&#x3002;</li>
<li>&#x66F4;&#x65B0;cloudera-manager-agent: <code>yum upgrade cloudera-manager-server cloudera-manager-daemons cloudera-manager-server-db-2 cloudera-manager-agent</code>&#x3002;</li>
<li>&#x542F;&#x52A8;cloudera-scm-agent&#x670D;&#x52A1;: <code>service cloudera-scm-agent start</code>&#x3002;</li>
</ol>
<h3 id="&#x9A8C;&#x8BC1;cdh&#x5347;&#x7EA7;&#x662F;&#x5426;&#x6210;&#x529F;"><a href="#&#x9A8C;&#x8BC1;CDH&#x5347;&#x7EA7;&#x662F;&#x5426;&#x6210;&#x529F;" class="headerlink" title="&#x9A8C;&#x8BC1;CDH&#x5347;&#x7EA7;&#x662F;&#x5426;&#x6210;&#x529F;"></a>&#x9A8C;&#x8BC1;CDH&#x5347;&#x7EA7;&#x662F;&#x5426;&#x6210;&#x529F;</h3><p>&#x5728;&#x9875;&#x9762;&#x4E0A;<code>hosts</code>&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;<code>Inspect All Hosts</code>&#xFF0C;&#x68C0;&#x6D4B;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x7ED3;&#x679C;&#xFF0C;&#x80FD;&#x591F;&#x6BD4;&#x8F83;&#x8BE6;&#x7EC6;&#x7684;&#x67E5;&#x770B;&#x5404;&#x673A;&#x5668;&#x60C5;&#x51B5;&#x3002;</p>
<h2 id="&#x670D;&#x52A1;&#x5347;&#x7EA7;"><a href="#&#x670D;&#x52A1;&#x5347;&#x7EA7;" class="headerlink" title="&#x670D;&#x52A1;&#x5347;&#x7EA7;"></a>&#x670D;&#x52A1;&#x5347;&#x7EA7;</h2><p>CDH&#x5347;&#x7EA7;&#x540E;&#xFF0C;&#x66F4;&#x8981;&#x91CD;&#x7684;&#x662F;&#x5BF9;CDH&#x7BA1;&#x7406;&#x7684;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x5347;&#x7EA7;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;parcels&#x8FDB;&#x884C;&#x5347;&#x7EA7;&#x3002;</p>
<h3 id="&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;"><a href="#&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;" class="headerlink" title="&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;"></a>&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;</h3><ol>
<li>&#x65B0;&#x5EFA;&#x76EE;&#x5F55;<code>/data/cloudera-parcel-server</code></li>
<li><p>&#x4E0B;&#x8F7D;CDH parcel&#x548C;manifest.json</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ wget http://archive.cloudera.com/cdh5/parcels/5/CDH-5.7.0-1.cdh5.7.0.p0.45-el6.parcel</div><div class="line">$ wget http://archive.cloudera.com/cdh5/parcels/5/manifest.json</div></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>&#x4E0B;&#x8F7D;kafka parcel&#x548C;manifest.json</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ wget http://archive.cloudera.com/kafka/parcels/2/KAFKA-2.0.1-1.2.0.1.p0.5-el6.parcel</div><div class="line">$ wget http://archive.cloudera.com/kafka/parcels/2/manifest.json</div></pre></td></tr></table></figure>
</li>
<li><p>&#x4E0B;&#x8F7D;gplextras5&#x548C;manifest.json</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ wget http://archive.cloudera.com/gplextras5/parcels/5/GPLEXTRAS-5.6.1-1.cdh5.6.1.p0.5-el6.parcel</div><div class="line">$ wget http://archive.cloudera.com/gplextras5/parcels/5/manifest.json</div></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>&#x6574;&#x4F53;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ tree /data/cloudera-parcel-server/</div><div class="line"> /data/cloudera-parcel-server/</div><div class="line"> &#x251C;&#x2500;&#x2500; cdh</div><div class="line"> &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; CDH-5.7.0-1.cdh5.7.0.p0.45-el6.parcel</div><div class="line"> &#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; manifest.json</div><div class="line"> &#x251C;&#x2500;&#x2500; gplextras</div><div class="line"> &#x2502;&#xA0;&#xA0; &#x251C;&#x2500;&#x2500; GPLEXTRAS-5.6.1-1.cdh5.6.1.p0.5-el6.parcel</div><div class="line"> &#x2502;&#xA0;&#xA0; &#x2514;&#x2500;&#x2500; manifest.json</div><div class="line"> &#x2514;&#x2500;&#x2500; kafka</div><div class="line">     &#x251C;&#x2500;&#x2500; KAFKA-2.0.1-1.2.0.1.p0.5-el6.parcel</div><div class="line">     &#x2514;&#x2500;&#x2500; manifest.json</div><div class="line"></div><div class="line"> 3 directories, 6 files</div></pre></td></tr></table></figure>
</li>
<li><p>&#x542F;&#x52A8;&#x4E00;&#x4E2A;server</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ python -m SimpleHTTPServer 8080</div></pre></td></tr></table></figure>
</li>
</ol>
<p>   &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;&#x94FE;&#x63A5;&#x67E5;&#x770B;&#x662F;&#x5426;&#x542F;&#x52A8;&#x6210;&#x529F;&#xFF0C;<code>http://{http-server-ip}:8080</code>&#xFF0C;&#x6210;&#x529F;&#x540E;&#x53EF;&#x4EE5;&#x5728;parcels&#x7684;&#x914D;&#x7F6E;<code>Remote Parcel Repository URLs</code>&#x4E2D;&#x6DFB;&#x52A0;&#x76F8;&#x5173;&#x7684;parcel&#x5730;&#x5740;:</p>
<ul>
<li><code>http://{http-server-ip}:8080/cdh/</code></li>
<li><code>http://{http-server-ip}:8080/kafka/</code></li>
<li><code>http://{http-server-ip}:8080/gplextras/</code></li>
</ul>
<h3 id="cdh-parcel&#x670D;&#x52A1;&#x5347;&#x7EA7;"><a href="#CDH-Parcel-&#x670D;&#x52A1;-&#x5347;&#x7EA7;" class="headerlink" title="CDH Parcel(&#x670D;&#x52A1;)&#x5347;&#x7EA7;"></a>CDH Parcel(&#x670D;&#x52A1;)&#x5347;&#x7EA7;</h3><p>&#x53C2;&#x8003;<a href="http://www.cloudera.com/documentation/enterprise/latest/topics/install_upgrade_to_cdh57_parcels.html" target="_blank" rel="external">Upgrading to CDH 5.7 Using Parcels</a></p>
<ol>
<li>&#x5728;<code>Hosts -&gt; Parcels</code>&#x5904;&#x8BBE;&#x7F6E;&#x4E0A;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#x4E2D;&#x7684;parcel&#x4E34;&#x65F6;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;</li>
<li>&#x5728;&#x9996;&#x9875;cluster&#x540D;&#x53F3;&#x4FA7;&#x5C0F;&#x4E09;&#x89D2;&#x5904;&#x70B9;&#x51FB;&#x300E;Upgrade Cluster&#x300F;&#xFF0C;&#x4ED4;&#x7EC6;&#x9605;&#x8BFB;&#x5347;&#x7EA7;&#x524D;&#x7684;&#x51C6;&#x5907;&#xFF0C;&#x5E76;&#x63D0;&#x524D;&#x51C6;&#x5907;&#x597D;</li>
<li>&#x5728;&#x8282;&#x70B9;&#x68C0;&#x6D4B;&#x5B8C;&#x540E;&#xFF0C;&#x9009;&#x62E9;<code>Let me upgrade the cluster</code>&#xFF0C;&#x624B;&#x52A8;&#x8FDB;&#x884C;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x4EE5;&#x907F;&#x514D;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#x3002;</li>
<li>&#x5347;&#x7EA7;Oozie ShareLib&#xFF0C;&#x5728;Oozie&#x670D;&#x52A1;&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;<code>Actions &gt; Install Oozie ShareLib</code>&#x3002;</li>
<li>&#x5347;&#x7EA7;Sqoop2&#xFF0C;&#x5728;Sqoop2&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;<code>Actions &gt; Upgrade Sqoop</code>&#x3002;</li>
<li>&#x5347;&#x7EA7;Spark&#xFF0C;&#x5728;spark&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;<code>Actions &gt; Install Spark JAR</code>&#x548C;<code>Actions &gt; Create Spark History Log Dir</code>&#x3002;</li>
<li>&#x624B;&#x52A8;&#x5C06;&#x670D;&#x52A1;&#x4E00;&#x4E2A;&#x4E2A;&#x91CD;&#x542F;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x7684;<code>Instances</code>Tab&#x9875;&#xFF0C;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x7684;&#x91CD;&#x542F;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x670D;&#x52A1;&#x4E0D;&#x53EF;&#x7528;&#x3002;</li>
<li>&#x91CD;&#x542F;&#x5B8C;&#x540E;&#xFF0C;&#x8FD0;&#x884C;<code>Deploy Client Configuration</code>&#x3002;</li>
<li>&#x5728;parcels&#x9875;&#x9762;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x4E4B;&#x524D;&#x7684;parcel&#x3002;</li>
</ol>
<p>&#x53E6;&#x5916;&#x7684;&#x9014;&#x5F84;&#x53EF;&#x4EE5;&#x5728;<code>Hosts &gt; parcels</code>&#x9875;&#x9762;&#x624B;&#x52A8;&#x8FDB;&#x884C;<code>Distribute</code>&#x548C;<code>Active</code>&#xFF0C;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x4E0A;&#x9762;&#x7684;&#x6B65;&#x9AA4;4&#x2013;&#x6B65;&#x9AA4;9&#x3002;</p>
<h3 id="kafka-parcel&#x5347;&#x7EA7;"><a href="#KAFKA-Parcel&#x5347;&#x7EA7;" class="headerlink" title="KAFKA Parcel&#x5347;&#x7EA7;"></a>KAFKA Parcel&#x5347;&#x7EA7;</h3><p>&#x5728;<code>Hosts &gt; parcels</code>&#x9875;&#x9762;&#x624B;&#x52A8;&#x5BF9;Kafka Parcel&#x8FDB;&#x884C;<code>Distribute</code>&#x548C;<code>Active</code>&#xFF0C;&#x7136;&#x540E;&#x5BF9;Kafka Broker&#x4E00;&#x53F0;&#x53F0;&#x8FDB;&#x884C;&#x91CD;&#x542F;&#xFF0C;&#x786E;&#x5B9A;&#x6CA1;&#x95EE;&#x9898;&#x540E;&#x53EF;&#x4EE5;&#x5220;&#x9664;&#x65E7;&#x7684;parcel&#x3002;</p>
<h3 id="gplextras-parcel&#x5347;&#x7EA7;&#x6DFB;&#x52A0;&#x5BF9;lzo&#x7684;&#x652F;&#x6301;"><a href="#GPLEXTRAS-Parcel&#x5347;&#x7EA7;-&#x6DFB;&#x52A0;&#x5BF9;lzo&#x7684;&#x652F;&#x6301;" class="headerlink" title="GPLEXTRAS Parcel&#x5347;&#x7EA7;(&#x6DFB;&#x52A0;&#x5BF9;lzo&#x7684;&#x652F;&#x6301;)"></a>GPLEXTRAS Parcel&#x5347;&#x7EA7;(&#x6DFB;&#x52A0;&#x5BF9;lzo&#x7684;&#x652F;&#x6301;)</h3><p>&#x53C2;&#x8003;<a href="http://www.cloudera.com/documentation/enterprise/latest/topics/cm_mc_gpl_extras.html" target="_blank" rel="external">Configuring Services to Use the GPL Extras Parcel</a></p>
<ol>
<li>&#x5728;<code>Hosts &gt; parcels</code>&#x9875;&#x9762;&#x624B;&#x52A8;&#x5BF9;gplextras parcel&#x8FDB;&#x884C;<code>Distribute</code>&#x548C;<code>Active</code></li>
<li>HDFS&#x670D;&#x52A1;&#x4E2D;&#x4FEE;&#x6539;&#x914D;&#x7F6E;<code>Compression Codecs</code>&#xFF0C;&#x6DFB;&#x52A0;<code>com.hadoop.compression.lzo.LzoCodec</code>&#x548C;<code>com.hadoop.compression.lzo.LzopCodec</code>&#xFF0C;&#x91CD;&#x542F;HDFS&#x3002;</li>
<li>&#x5728;&#x6BCF;&#x53F0;Oozie Server&#x4E0A;&#x5EFA;&#x7ACB;hadoop-lzo.jar&#x7684;&#x8F6F;&#x94FE;&#x63A5;&#xFF0C;<code>ln -sf /opt/cloudera/parcels/GPLEXTRAS/lib/hadoop/lib/hadoop-lzo.jar /var/lib/ooziehadoop-lzo.jar</code>&#xFF0C;&#x91CD;&#x542F;Oozie&#x3002;</li>
<li>Sqoop2&#x670D;&#x52A1;&#x4E2D;&#x4FEE;&#x6539;&#x914D;&#x7F6E;<code>Sqoop Service Environment Advanced Configuration Snippet</code>&#xFF0C;&#x6DFB;&#x52A0;<code>HADOOP_CLASSPATH=$HADOOP_CLASSPATH:/opt/cloudera/parcels/GPLEXTRAS/lib/hadoop/lib/*</code>&#x548C;<code>JAVA_LIBRARY_PATH=$JAVA_LIBRARY_PATH:/opt/cloudera/parcels/GPLEXTRAS/lib/hadoop/lib/native</code>&#xFF0C;&#x91CD;&#x542F;Sqoop2&#x3002;</li>
<li>&#x91CD;&#x542F;&#x5176;&#x4ED6;&#x9700;&#x8981;&#x91CD;&#x542F;&#x7684;&#x670D;&#x52A1;&#x3002;</li>
<li>&#x8FD0;&#x884C;<code>Deploy Client Configuration</code>&#x3002;</li>
</ol>
<h3 id="cdh-clientgateway&#x5347;&#x7EA7;"><a href="#CDH-Client-Gateway-&#x5347;&#x7EA7;" class="headerlink" title="CDH Client(Gateway)&#x5347;&#x7EA7;"></a>CDH Client(Gateway)&#x5347;&#x7EA7;</h3><p>&#x5728;&#x5347;&#x7EA7;&#x540E;&#xFF0C;&#x53D1;&#x73B0;&#x5404;Client&#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x5F15;&#x7528;&#x6CA1;&#x6709;&#x66F4;&#x65B0;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5C06;<code>/etc/alternatives/</code>&#x76EE;&#x5F55;&#x4E0B;CDH&#x76F8;&#x5173;&#x66F4;&#x65B0;&#x4E3A;&#x6700;&#x65B0;&#x3002;<br>&#x4EE5;<code>spark-shell</code>&#x4E3A;&#x4F8B;&#x3002;</p>
<ol>
<li>&#x6267;&#x884C;<code>which spark-shell</code>&#xFF0C;&#x53D1;&#x73B0;&#x6307;&#x5411;<code>/usr/bin/spark-shell</code></li>
<li>&#x6267;&#x884C;<code>ls -l /usr/bin/spark-shell</code>&#xFF0C;&#x53D1;&#x73B0;&#x662F;&#x4E2A;&#x8F6F;&#x94FE;&#x63A5;&#x5E76;&#x6307;&#x5411;&#x4E86;<code>/etc/alternatives/spark-shell</code></li>
<li>&#x6267;&#x884C;<code>ls -l /etc/alternatives/spark-shell</code>&#xFF0C;&#x53D1;&#x73B0;&#x662F;&#x4E2A;&#x8F6F;&#x94FE;&#x63A5;&#x5E76;&#x6307;&#x5411;&#x4E86;<code>/opt/cloudera/parcels/CDH-5.4.8-1.cdh5.4.8.p0.4/bin/spark-shell</code>&#xFF0C;&#x660E;&#x663E;&#x8FD8;&#x6307;&#x5411;&#x5347;&#x7EA7;&#x524D;&#x7684;&#x7248;&#x672C;&#x3002;</li>
<li>&#x6267;&#x884C;<code>ln -sf /opt/cloudera/parcels/CDH/bin/spark-shell /etc/alternatives/spark-shell</code>&#x5C06;&#x5176;&#x6307;&#x5411;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x3002;</li>
</ol>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;shell&#x811A;&#x672C;&#x6279;&#x91CF;&#x5C06;<code>/etc/alternatives</code>&#x4E0B;CDH&#x76F8;&#x5173;&#x8F6F;&#x94FE;&#x63A5;&#x6307;&#x5411;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x3002;</p>
<h2 id="&#x53C2;&#x8003;"><a href="#&#x53C2;&#x8003;" class="headerlink" title="&#x53C2;&#x8003;"></a>&#x53C2;&#x8003;</h2><ol>
<li>Upgrading Cloudera Manager 5 to the Latest Cloudera Manager: <a href="http://www.cloudera.com/documentation/enterprise/latest/topics/cm_ag_upgrade_cm5.html" target="_blank" rel="external">http://www.cloudera.com/documentation/enterprise/latest/topics/cm_ag_upgrade_cm5.html</a></li>
<li>Upgrading CDH and Managed Services Using Cloudera Manager: <a href="http://www.cloudera.com/documentation/enterprise/latest/topics/cm_mc_upgrading_cdh.html" target="_blank" rel="external">http://www.cloudera.com/documentation/enterprise/latest/topics/cm_mc_upgrading_cdh.html</a></li>
<li>Upgrading to CDH 5.7 Using Parcels: <a href="http://www.cloudera.com/documentation/enterprise/latest/topics/install_upgrade_to_cdh57_parcels.html" target="_blank" rel="external">http://www.cloudera.com/documentation/enterprise/latest/topics/install_upgrade_to_cdh57_parcels.html</a></li>
<li>Creating a Temporary Remote Repository: <a href="http://www.cloudera.com/documentation/enterprise/latest/topics/cm_ig_create_local_parcel_repo.html" target="_blank" rel="external">http://www.cloudera.com/documentation/enterprise/latest/topics/cm_ig_create_local_parcel_repo.html</a></li>
<li>postgresql&#x5E38;&#x7528;&#x547D;&#x4EE4;: <a href="http://blog.chinaunix.net/uid-26642180-id-3485465.html" target="_blank" rel="external">http://blog.chinaunix.net/uid-26642180-id-3485465.html</a></li>
<li>Running Hive on Spark: <a href="http://www.cloudera.com/documentation/enterprise/latest/topics/admin_hos_oview.html" target="_blank" rel="external">http://www.cloudera.com/documentation/enterprise/latest/topics/admin_hos_oview.html</a></li>
<li>Configuring Services to Use the GPL Extras Parcel: <a href="http://www.cloudera.com/documentation/enterprise/latest/topics/cm_mc_gpl_extras.html" target="_blank" rel="external">http://www.cloudera.com/documentation/enterprise/latest/topics/cm_mc_gpl_extras.html</a></li>
<li>CDH 5.7.0 Properties: <a href="http://www.cloudera.com/documentation/enterprise/latest/topics/cm_props_cdh570.html" target="_blank" rel="external">http://www.cloudera.com/documentation/enterprise/latest/topics/cm_props_cdh570.html</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://wzktravel.github.io/2016/05/24/upgrade-cdh-to-5-7-0/" data-id="ciui7zd9100269f9kvh8pp0nw" class="article-share-link" data-share="baidu" data-title="升级CDH到5.7.0">分享到</a>
      

      
        <a href="http://wzktravel.github.io/2016/05/24/upgrade-cdh-to-5-7-0/#ds-thread" class="article-comment-link">评论</a>
      

      
        <span id="busuanzi_container_page_pv" style='display:none;float:right;margin-right:20px;color:#999;'>view <span id="busuanzi_value_page_pv"></span> times</span>
      
  
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cdh/">cdh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hadoop/">hadoop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hive/">hive</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spark/">spark</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/07/15/proxy-server/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">
        
          搭建proxy伺服器
        
      </div>
    </a>
  
  
    <a href="/2016/05/11/elasticsearch-reindex/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">elasticsearch修改mapping重建索引</div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <div id="ds-thread" class="ds-thread" data-thread-key="2016/05/24/upgrade-cdh-to-5-7-0/" data-title="升级CDH到5.7.0" data-url="http://wzktravel.github.io/2016/05/24/upgrade-cdh-to-5-7-0/"></div>
  </section>

</section>
      
      <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/azkaban/">azkaban</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cdh/">cdh</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/">elasticsearch</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flume/">flume</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a><span class="tag-list-count">17</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/">hbase</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdfs/">hdfs</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hive/">hive</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jodatime/">jodatime</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kerberos/">kerberos</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongo/">mongo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/postgres/">postgres</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/quartz/">quartz</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scala/">scala</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/schedule/">schedule</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sentry/">sentry</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/">spark</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thread/">thread</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yarn/">yarn</a><span class="tag-list-count">3</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/azkaban/" style="font-size: 10px;">azkaban</a> <a href="/tags/cdh/" style="font-size: 16.25px;">cdh</a> <a href="/tags/elasticsearch/" style="font-size: 12.5px;">elasticsearch</a> <a href="/tags/flume/" style="font-size: 11.25px;">flume</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/github/" style="font-size: 11.25px;">github</a> <a href="/tags/hadoop/" style="font-size: 20px;">hadoop</a> <a href="/tags/hbase/" style="font-size: 11.25px;">hbase</a> <a href="/tags/hdfs/" style="font-size: 12.5px;">hdfs</a> <a href="/tags/hive/" style="font-size: 12.5px;">hive</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/jodatime/" style="font-size: 10px;">jodatime</a> <a href="/tags/kafka/" style="font-size: 10px;">kafka</a> <a href="/tags/kerberos/" style="font-size: 12.5px;">kerberos</a> <a href="/tags/linux/" style="font-size: 18.75px;">linux</a> <a href="/tags/mac/" style="font-size: 11.25px;">mac</a> <a href="/tags/mongo/" style="font-size: 10px;">mongo</a> <a href="/tags/postgres/" style="font-size: 10px;">postgres</a> <a href="/tags/quartz/" style="font-size: 10px;">quartz</a> <a href="/tags/scala/" style="font-size: 12.5px;">scala</a> <a href="/tags/schedule/" style="font-size: 11.25px;">schedule</a> <a href="/tags/sentry/" style="font-size: 10px;">sentry</a> <a href="/tags/shell/" style="font-size: 17.5px;">shell</a> <a href="/tags/spark/" style="font-size: 13.75px;">spark</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/thread/" style="font-size: 10px;">thread</a> <a href="/tags/vim/" style="font-size: 11.25px;">vim</a> <a href="/tags/yarn/" style="font-size: 12.5px;">yarn</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a><span class="archive-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/10/20/use-mongo-spark-connector/">mongo-spark-connector使用说明</a>
          </li>
        
          <li>
            <a href="/2016/09/29/check-linux-and-kernel-version/">查看linux发行版本和kernel版本</a>
          </li>
        
          <li>
            <a href="/2016/09/29/release-versions/">发行版本释义</a>
          </li>
        
          <li>
            <a href="/2016/09/23/how-to-hide-application-icon/">mac隐藏dock上的程序图标</a>
          </li>
        
          <li>
            <a href="/2016/09/19/hadoop-lzo/">hadoop lzo介绍和使用</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="" target="_blank">作者</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 wzktravel<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
      .
      <span id="busuanzi_container_site_pv" style="display:none">view <span id="busuanzi_value_site_pv"></span> times</span>
    </div>
  </div>
</footer>

  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"wzktravel"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<script src="/js/script.js"></script>

</div>
</body>
</html>
